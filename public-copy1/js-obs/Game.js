const _0x125cda=_0x2435;(function(_0x4a95f4,_0x507b80){const _0x4a1127=_0x2435,_0x4f55aa=_0x4a95f4();while(!![]){try{const _0x3358d5=-parseInt(_0x4a1127(0xc0))/0x1+-parseInt(_0x4a1127(0xcf))/0x2+parseInt(_0x4a1127(0xe5))/0x3*(parseInt(_0x4a1127(0xbe))/0x4)+parseInt(_0x4a1127(0xd7))/0x5*(parseInt(_0x4a1127(0x99))/0x6)+-parseInt(_0x4a1127(0xa4))/0x7+-parseInt(_0x4a1127(0xaa))/0x8*(parseInt(_0x4a1127(0xca))/0x9)+parseInt(_0x4a1127(0xce))/0xa;if(_0x3358d5===_0x507b80)break;else _0x4f55aa['push'](_0x4f55aa['shift']());}catch(_0x5a4d73){_0x4f55aa['push'](_0x4f55aa['shift']());}}}(_0x4f17,0xea4ae));function _0x2435(_0x2c3f17,_0x353d1f){const _0x4f178a=_0x4f17();return _0x2435=function(_0x243575,_0xd37b09){_0x243575=_0x243575-0x8a;let _0x5bcc45=_0x4f178a[_0x243575];return _0x5bcc45;},_0x2435(_0x2c3f17,_0x353d1f);}import{GeoAPI}from'./GeoAPI.js';export class Game{#countriesQueue=[];#countriesTemp=[];#geoAPI=new GeoAPI();#difficulty;#gameMode;#extraGameMode;#countryCount=0x0;['timesWrong']=0x0;#found=0x0;constructor(){this.#initGame();}async #initGame(){const _0x24ca37=_0x2435;await this.#geoAPI[_0x24ca37(0xaf)]()[_0x24ca37(0xd3)](_0x3143bc=>{this.#setCountries(_0x3143bc);});}[_0x125cda(0x8d)](){const _0xa0d86c=_0x125cda;let _0x274326=document[_0xa0d86c(0xc7)](_0xa0d86c(0xbd)),_0x247944=document[_0xa0d86c(0xc7)]('navbar-container'),_0x2326c9=document[_0xa0d86c(0xc7)](_0xa0d86c(0x9f)),_0x26cae9=document[_0xa0d86c(0xc7)](_0xa0d86c(0xb1)),_0x5e8c17=document['getElementsByClassName'](_0xa0d86c(0xab));this.#setCountryCount(),this.#setGameMode(),this.#setExtraGameMode(),this.#updateFoundCountDiv();const _0x22d082=this.#getGameMode(),_0xc5e3e0=this['getCountryCount']();if(_0x5e8c17['length']<=0x0&&(isNaN(_0xc5e3e0)||_0xc5e3e0<0x1||_0xc5e3e0>this[_0xa0d86c(0x9c)]()[_0xa0d86c(0x8e)])){let _0x237781=document[_0xa0d86c(0xc7)](_0xa0d86c(0x93));_0x237781[_0xa0d86c(0xa6)]='Count\x20cannot\x20be\x20less\x20than\x201\x20or\x20greater\x20than\x20'+this['getCountries']()['length'];return;}if(_0x22d082!==_0xa0d86c(0xe6)){const _0x5bed26=document[_0xa0d86c(0xc7)]('get-hint-button'),_0x3e002f=document[_0xa0d86c(0xc7)](_0xa0d86c(0xc3));_0x5bed26['classList'][_0xa0d86c(0xcc)]('hide'),_0x3e002f['classList'][_0xa0d86c(0xcc)]('hide');}_0x5e8c17[_0xa0d86c(0x8e)]>0x0?this.#customCountryOptions():this.#countriesQueue=this.#countriesQueue[_0xa0d86c(0xd1)](0x0,this[_0xa0d86c(0xe7)]());this.#displayTextAccordingToGameMode(_0x22d082),this.#updateCountriesRemaining(),this['updateAttemptsCountDiv']();this.#countriesQueue['length']===0x1&&document[_0xa0d86c(0xc7)](_0xa0d86c(0x8f))['classList'][_0xa0d86c(0xcc)](_0xa0d86c(0xa0));let _0x4d5289=document['getElementById']('attempt-span');this[_0xa0d86c(0x9c)]()[_0xa0d86c(0x8e)]===0x1&&_0x4d5289['classList']['add'](_0xa0d86c(0xbc)),_0x2326c9['style']['visibility']=_0xa0d86c(0x8c),_0x26cae9[_0xa0d86c(0xa3)][_0xa0d86c(0xd0)]=_0xa0d86c(0x8c),_0x274326[_0xa0d86c(0xa3)][_0xa0d86c(0xc8)]=_0xa0d86c(0x9b),_0x247944['style']['visibility']=_0xa0d86c(0x8c);}#displayTextAccordingToGameMode(_0x1d88a7){const _0x63aacf=_0x125cda;let _0x20dac0=document['getElementById'](_0x63aacf(0xe8));if(this.#countriesQueue[_0x63aacf(0x8e)]>0x0)switch(_0x1d88a7){case _0x63aacf(0xd9):_0x20dac0[_0x63aacf(0xb4)]('beforeend','<p\x20class=\x22hints-p\x22>Waldo\x20was\x20last\x20seen\x20in\x20<span\x20class=\x22capital-text\x22>'+this.#countriesQueue[0x0][_0x63aacf(0x8b)]+_0x63aacf(0xd8));break;case _0x63aacf(0xc4):_0x20dac0[_0x63aacf(0xb4)]('beforeend',_0x63aacf(0xa7)+this.#countriesQueue[0x0]['capital']+_0x63aacf(0xd5));break;case _0x63aacf(0x94):document[_0x63aacf(0xc7)](_0x63aacf(0xe8))['classList'][_0x63aacf(0xad)](_0x63aacf(0xe8)),document['getElementById'](_0x63aacf(0xe8))['classList']['add']('structure-flag-emoji'),_0x20dac0['insertAdjacentHTML'](_0x63aacf(0xae),_0x63aacf(0xb0)+this.#countriesQueue[0x0][_0x63aacf(0xec)]+_0x63aacf(0x9e)),document[_0x63aacf(0xc7)](_0x63aacf(0xe8))[_0x63aacf(0xa3)][_0x63aacf(0xdd)]='unset';break;case _0x63aacf(0xe6):this[_0x63aacf(0xe4)]();break;}}#getDifficulty(){return this.#difficulty;}#getGameMode(){return this.#gameMode;}['getExtraGameMode'](){return this.#extraGameMode;}[_0x125cda(0xe7)](){return this.#countryCount;}#setDifficulty(){const _0x416139=_0x125cda,_0xad414e=document[_0x416139(0xc7)]('settings-difficulty');this.#difficulty=Number(_0xad414e['innerText'][_0x416139(0xac)]('\x20')[0x2])-0x3;}#setGameMode(){const _0x48c6ed=_0x125cda,_0x5d9bdf=document['getElementById'](_0x48c6ed(0xa2));this.#gameMode=_0x5d9bdf[_0x48c6ed(0xa6)][_0x48c6ed(0xdb)]()['split']('\x20')[0x0];}#setExtraGameMode(){const _0x1d8b15=_0x125cda,_0x22f248=document['getElementById'](_0x1d8b15(0xb6));this.#extraGameMode=_0x22f248['innerText']['toLowerCase']()[_0x1d8b15(0xac)]('\x20')[0x0];}#setCountryCount(){const _0x32c0af=_0x125cda,_0x1d2869=document['getElementById'](_0x32c0af(0xb8));this.#countryCount=Number(_0x1d2869['value']);}#customCountryOptions(){const _0x48fa12=_0x125cda;let _0x1ef670=document[_0x48fa12(0x8a)](_0x48fa12(0xab));const _0x386382=new Set();for(let _0x3cf889=0x0;_0x3cf889<_0x1ef670[_0x48fa12(0x8e)];_0x3cf889+=0x1){_0x386382[_0x48fa12(0xcc)](_0x1ef670[_0x3cf889][_0x48fa12(0x95)][0x0][_0x48fa12(0xa6)]);}for(let _0x20fa7e=0x0;_0x20fa7e<this[_0x48fa12(0x9c)]()[_0x48fa12(0x8e)];_0x20fa7e+=0x1){!_0x386382[_0x48fa12(0x98)](this[_0x48fa12(0x9c)]()[_0x20fa7e][_0x48fa12(0x8b)])&&(this['getCountries']()[_0x20fa7e]=null);}this.#countriesQueue=this[_0x48fa12(0x9c)]()[_0x48fa12(0xd4)](_0xa9882c=>_0xa9882c!==null),this.#countriesTemp=this['getCountries']()[_0x48fa12(0xd1)]();}#resetAttempts(){this['timesWrong']=0x0;}[_0x125cda(0xb3)](_0xb85b39){const _0x23814e=_0x125cda;let _0x3e9885=document[_0x23814e(0xc7)](_0x23814e(0xe8)),_0x279eb1=document['getElementById'](_0x23814e(0xb7));if(this.#countriesQueue[_0x23814e(0x8e)]>0x0&&_0xb85b39['toLowerCase']()[_0x23814e(0x92)]()===this.#countriesQueue[0x0]['country']['toLowerCase']()){this[_0x23814e(0x90)]<0x3&&this.#found++;this.#resetAttempts(),this['updateAttemptsCountDiv'](),_0x3e9885[_0x23814e(0xba)]='',_0x279eb1[_0x23814e(0xa6)]=0x0;let _0x1f066a=this.#countriesQueue[_0x23814e(0xe2)]();return this.#setNextRound(_0x1f066a),!![];}return![];}#setNextRound(_0xbf1856){const _0x3eb876=_0x125cda;let _0x5352aa=document[_0x3eb876(0xc7)](_0x3eb876(0xdf)),_0x1267af=document[_0x3eb876(0xc7)](_0x3eb876(0xc5)),_0x35450c=document['getElementById']('title-buttons-div'),_0x18d5c1=document['getElementById'](_0x3eb876(0xdc)),_0x425f33=document['getElementById'](_0x3eb876(0xe0)),_0x16963a=document['getElementById'](_0x3eb876(0xb9));_0x5352aa[_0x3eb876(0x97)]['remove']('hide'),_0x1267af['classList'][_0x3eb876(0xcc)](_0x3eb876(0xbc)),_0x35450c['classList']['add'](_0x3eb876(0xa0)),_0x18d5c1[_0x3eb876(0x97)][_0x3eb876(0xcc)](_0x3eb876(0xbc)),_0x16963a[_0x3eb876(0x97)][_0x3eb876(0xcc)]('hide');_0x425f33[_0x3eb876(0xa1)](_0x3eb876(0x9a))==='hide'&&_0x425f33['classList'][_0x3eb876(0xad)]('hide');this.#updateFoundCountDiv();this[_0x3eb876(0x9c)]()[_0x3eb876(0x8e)]===0x0?_0x5352aa[_0x3eb876(0xea)](_0x3eb876(0x96),'Waldo\x20Has\x20Finally\x20Been\x20Captured\x20in\x20'+_0xbf1856[_0x3eb876(0x8b)]+'!'):_0x5352aa[_0x3eb876(0xea)](_0x3eb876(0x96),_0x3eb876(0xc2)+_0xbf1856[_0x3eb876(0x8b)]+_0x3eb876(0xc9));this.#countriesQueue[_0x3eb876(0x8e)]===0x1&&(document[_0x3eb876(0xc7)]('next-button')[_0x3eb876(0x97)][_0x3eb876(0xcc)](_0x3eb876(0xa0)),document[_0x3eb876(0xc7)]('previous-button')['classList'][_0x3eb876(0xcc)](_0x3eb876(0xa0)));if(this.#getGameMode()==='hints'){const _0x6caa35=document[_0x3eb876(0xc7)](_0x3eb876(0xa9));_0x6caa35[_0x3eb876(0x97)][_0x3eb876(0xcc)](_0x3eb876(0xbc));}}async #setCountries(_0x16f2ef){const _0x2170d2=_0x125cda;this.#countriesQueue=_0x16f2ef[_0x2170d2(0xd1)](),this.#countriesTemp=_0x16f2ef[_0x2170d2(0xd1)]();const _0xad09f2=document['getElementById'](_0x2170d2(0xd2));for(let _0x433cb4=0x0;_0x433cb4<this.#countriesQueue[_0x2170d2(0x8e)];_0x433cb4+=0x1){_0xad09f2[_0x2170d2(0xb4)](_0x2170d2(0xae),'<li\x20onclick=\x22selectCountry(this)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22country\x22\x20>'+this.#countriesQueue[_0x433cb4][_0x2170d2(0x8b)]+_0x2170d2(0x91)),await this.#geoAPI[_0x2170d2(0xb5)](this.#countriesQueue[_0x433cb4]['country'],0x3)[_0x2170d2(0xd3)](_0x458ac8=>{let _0x443ee3=this.#randomize(_0x458ac8);this.#countriesQueue[_0x433cb4]['facts']=_0x443ee3;}),_0x433cb4+0x1===this.#countriesQueue[_0x2170d2(0x8e)]&&this.#randomize(this.#countriesQueue);}}[_0x125cda(0xa5)](){const _0x4a0c81=_0x125cda;this.#hideBlinkingText(),this.#resetAttempts(),this['updateAttemptsCountDiv']();let _0x374ec6=document[_0x4a0c81(0xc7)](_0x4a0c81(0xe0)),_0x9ac32b=document['getElementById'](_0x4a0c81(0xb9));_0x374ec6['classList'][_0x4a0c81(0xad)]('hide'),_0x9ac32b[_0x4a0c81(0x97)][_0x4a0c81(0xad)](_0x4a0c81(0xbc));let _0x51042a=document[_0x4a0c81(0xc7)](_0x4a0c81(0xe8));_0x51042a['innerHTML']='';let _0x486c22=this[_0x4a0c81(0x9c)]()[this[_0x4a0c81(0x9c)]()[_0x4a0c81(0x8e)]-0x1];this[_0x4a0c81(0x9c)]()['unshift'](_0x486c22),this[_0x4a0c81(0x9c)]()[_0x4a0c81(0xc6)](),this.#displayTextAccordingToGameMode(this.#getGameMode());}#hideBlinkingText(){const _0x25d46d=_0x125cda;let _0x25efbc=document[_0x25d46d(0xc7)](_0x25d46d(0xdc));_0x25efbc[_0x25d46d(0xa1)](_0x25d46d(0x9a))==='blink-text'&&_0x25efbc[_0x25d46d(0x97)][_0x25d46d(0xcc)](_0x25d46d(0xbc));}[_0x125cda(0xd6)](){const _0x41d490=_0x125cda;this.#hideBlinkingText(),this.#resetAttempts(),this[_0x41d490(0xe1)]();let _0x4536d2=document[_0x41d490(0xc7)]('found-span'),_0x450b47=document[_0x41d490(0xc7)](_0x41d490(0xb9));_0x4536d2['classList'][_0x41d490(0xad)](_0x41d490(0xbc)),_0x450b47['classList'][_0x41d490(0xad)]('hide');const _0x2920f8=document[_0x41d490(0xc7)]('previous-button');if(this.#countriesQueue[_0x41d490(0x8e)]>0x1){_0x2920f8[_0x41d490(0x97)]['remove'](_0x41d490(0xa0));let _0x33965d=document[_0x41d490(0xc7)](_0x41d490(0xe8));_0x33965d[_0x41d490(0xba)]='';let _0xf04dfe=this[_0x41d490(0x9c)]()['shift']();this[_0x41d490(0x9c)]()[_0x41d490(0xbf)](_0xf04dfe),this.#displayTextAccordingToGameMode(this.#getGameMode());}}#restart(){const _0x1de7fd=_0x125cda;this.#found=0x0,this.#updateFoundCountDiv();let _0x433bdb=document[_0x1de7fd(0xc7)](_0x1de7fd(0xe8));_0x433bdb['innerHTML']='',this.#countriesQueue=this.#countriesTemp[_0x1de7fd(0xd1)](),this.#randomize(this.#countriesQueue);let _0x93680f=document[_0x1de7fd(0x8a)](_0x1de7fd(0xab));_0x93680f['length']<=0x0&&(this.#countriesQueue=this.#countriesQueue['slice'](0x0,this[_0x1de7fd(0xe7)]())),document['getElementById'](_0x1de7fd(0x8f))['classList'][_0x1de7fd(0xad)](_0x1de7fd(0xa0)),this.#countriesQueue[_0x1de7fd(0x8e)]===0x1&&document[_0x1de7fd(0xc7)](_0x1de7fd(0x8f))['classList']['add'](_0x1de7fd(0xa0));}[_0x125cda(0xe4)](){const _0x34c297=_0x125cda;let _0x4f5891=document[_0x34c297(0xc7)](_0x34c297(0xe8)),_0x25f860=document[_0x34c297(0xc7)](_0x34c297(0xb7));_0x25f860[_0x34c297(0xba)]=_0x4f5891[_0x34c297(0x95)][_0x34c297(0x8e)]===this.#countriesQueue[0x0][_0x34c297(0xa8)][_0x34c297(0x8e)]?0x0:this.#countriesQueue[0x0][_0x34c297(0xa8)]['length']-_0x4f5891[_0x34c297(0x95)][_0x34c297(0x8e)]-0x1,_0x25f860[_0x34c297(0xa3)][_0x34c297(0xb2)]=_0x34c297(0xeb),this.#countriesQueue['length']>0x0&&_0x4f5891[_0x34c297(0x95)][_0x34c297(0x8e)]<this.#countriesQueue[0x0][_0x34c297(0xa8)]['length']&&_0x4f5891[_0x34c297(0xb4)](_0x34c297(0xae),'<p\x20class=\x22hints-p\x22>'+this.#countriesQueue[0x0][_0x34c297(0xa8)][_0x4f5891[_0x34c297(0x95)]['length']]+_0x34c297(0xbb));}#getNextRound(){const _0x211b3e=_0x125cda;this.#countriesQueue[_0x211b3e(0x8e)]<=0x0&&this.#restart();let _0x13a17c=document[_0x211b3e(0xc7)](_0x211b3e(0xdf)),_0x220ef5=document[_0x211b3e(0xc7)]('remaining-div'),_0xe5a1b2=document['getElementById'](_0x211b3e(0xde)),_0x5c9b68=document[_0x211b3e(0xc7)]('previous-button'),_0x2dbdbf=document[_0x211b3e(0xc7)](_0x211b3e(0xe0)),_0x4e61a7=document[_0x211b3e(0xc7)](_0x211b3e(0xb9));this[_0x211b3e(0x9c)]()[_0x211b3e(0x8e)]>0x1&&_0x4e61a7[_0x211b3e(0x97)]['remove'](_0x211b3e(0xbc));_0x2dbdbf['classList'][_0x211b3e(0xad)](_0x211b3e(0xbc)),_0x220ef5[_0x211b3e(0x97)][_0x211b3e(0xad)](_0x211b3e(0xbc)),_0xe5a1b2[_0x211b3e(0x97)]['remove'](_0x211b3e(0xa0)),_0x13a17c[_0x211b3e(0x97)][_0x211b3e(0xcc)](_0x211b3e(0xbc)),_0x5c9b68[_0x211b3e(0x97)]['add'](_0x211b3e(0xa0));if(this.#getGameMode()===_0x211b3e(0xe6)){const _0x2366c7=document[_0x211b3e(0xc7)](_0x211b3e(0xa9));_0x2366c7['classList'][_0x211b3e(0xad)](_0x211b3e(0xbc));}this.#updateCountriesRemaining(),this.#displayTextAccordingToGameMode(this.#getGameMode());}[_0x125cda(0xe9)](){this.#getNextRound();}#updateCountriesRemaining(){const _0x18c89a=_0x125cda;let _0x533e74=document[_0x18c89a(0xc7)](_0x18c89a(0xe3));_0x533e74[_0x18c89a(0xa3)]['color']=_0x18c89a(0xeb),_0x533e74['innerHTML']=this[_0x18c89a(0x9c)]()[_0x18c89a(0x8e)]<=0x0?0x0:this['getCountries']()[_0x18c89a(0x8e)]-0x1;}[_0x125cda(0xe1)](){const _0x1caf18=_0x125cda;let _0x498de7=document['getElementById'](_0x1caf18(0xda));_0x498de7[_0x1caf18(0xa6)]=0x3-this['timesWrong'];}#updateFoundCountDiv(){const _0x4a2061=_0x125cda;let _0x3c4927=document[_0x4a2061(0xc7)](_0x4a2061(0x9d)),_0x51aac1=document['getElementsByClassName'](_0x4a2061(0xab)),_0xd3ffcd=_0x51aac1['length']>0x0?_0x51aac1[_0x4a2061(0x8e)]:this[_0x4a2061(0xe7)]();_0x3c4927[_0x4a2061(0xa6)]=this.#found+_0x4a2061(0xcb)+_0xd3ffcd;}[_0x125cda(0x9c)](){return this.#countriesQueue;}#randomize(_0x184146){const _0x3f722a=_0x125cda;var _0x876225,_0x2d0fe7,_0x425100;for(_0x876225=_0x184146[_0x3f722a(0x8e)]-0x1;_0x876225>0x0;_0x876225--){_0x2d0fe7=Math[_0x3f722a(0xc1)](Math[_0x3f722a(0xcd)]()*(_0x876225+0x1)),_0x425100=_0x184146[_0x876225],_0x184146[_0x876225]=_0x184146[_0x2d0fe7],_0x184146[_0x2d0fe7]=_0x425100;}return _0x184146;}}function _0x4f17(){const _0x101ec4=['</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','settings-box','visibilityHidden','getAttribute','settings-game-mode','style','11236729FGadvy','previous','innerText','<p\x20class=\x22hints-p\x22>Sources\x20tells\x20us\x20its\x20capital\x20is\x20<span\x20class=\x22capital-text\x22>','facts','get-hint-button','328RCDctD','select-country','split','remove','beforeend','getAllCountries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20>Waldo\x20was\x20spotted\x20carrying\x20this\x20flag</span>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22flag-emoji\x22>','start-button','color','answer','insertAdjacentHTML','getGeoFacts','settings-extra-game-mode','remaining-hints-count','country-count','attempt-span','innerHTML','</p>','hide','hints-container','8AOeXRz','push','1665364JMOLhs','floor','Waldo\x20Has\x20Escaped\x20','remaining-hints-div','capitals','remaining-div','pop','getElementById','display','!\x20Find\x20Him\x20Again!','401481hTgnDb','\x20/\x20','add','random','62468340lnAqCh','3554948WzyJFv','visibility','slice','country-options-ul','then','filter','\x20</span></p>','next','790qGGFen','</span></p>','countries','attempt-count','toLowerCase','show-answer','width','title-buttons-div','next-round-button','found-span','updateAttemptsCountDiv','shift','remaining-countries-count','getHint','1213332NiTjZf','hints','getCountryCount','hints-div','startNextRound','setAttribute','white','flag_emoji','getElementsByClassName','country','hidden','start','length','next-button','timesWrong','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fa-solid\x20fa-earth-europe\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>','trim','country-count-message','flags','children','value','classList','has','29658TQhzRL','class','flex','getCountries','found-count'];_0x4f17=function(){return _0x101ec4;};return _0x4f17();}