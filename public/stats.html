<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stats | Where on Earth is Waldo?</title>
    <link type="text/css" rel="stylesheet" href="css/stats.css" />
    <link type="text/css" rel="stylesheet" href="css/nav.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
          integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>

    <!-- MATERIAL ICONS -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp"
          rel="stylesheet">

    <!-- JS -->
    <script type="module" >

        import {UserAuthAPI} from './js/userAuthAPI.js'

        let userAuthAPI = new UserAuthAPI();

        window.addEventListener('load', userAuthAPI.verifyToken.bind() );

        document.getElementById('logout-nav-item').addEventListener('click', userAuthAPI.logoutUser.bind() )


    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"></script>

    <script type="module">

        import {Stats} from "./js/Stats.js";

        let stats = new Stats();

        await stats.updateGraphs();
        await stats.updateBannerCards();
        stats.updateNeedToWorkOn();
        stats.updateTable();

    </script>

</head>
<body>


<div class="container hide">

<!--  NAV BAR  -->
<nav id="navbar">

    <div id="menu-container">
        <!--            <input id="toggle-button"  class="day" type="button" >-->
    </div>

    <div id="navbar-container">
        <ul id="nav-menu">
            <li id="home-nav-item" class="nav-items" onclick="window.location ='/'">Home</li>
            <li id="play-nav-item" class="nav-items" onclick="window.location ='/play'">Find Waldo</li>
            <li id="about-nav-item" class="nav-items" onclick="window.location ='/about'">About</li>
            <li id="logout-nav-item" class="nav-items" onclick="window.location ='/logout'">Logout</li>
        </ul>
    </div>

</nav>


<main>

    <h1>Statistics</h1>

    <div class="date">
<!--        <input type="date">-->
        <h4 id="date-text"></h4>
    </div>

    <div class="insights">

        <div class="sales" >

            <span class="material-icons-sharp">analytics</span>
            <div class="middle" >
                <div class="left">
                    <h3>Streak</h3>
                    <h1 id="streaks-text"></h1>
                </div>
                <!--<div class="progress">
                    <svg>
                        <circle cx="38" cy="38" r="36"></circle>
                    </svg>
                    <div class="number">
                        <p>81%</p>
                    </div>
                </div>-->
            </div>

<!--            <small class="text-muted">Last 24 Hours</small>-->

        </div>
        <!-- END OF SALES -->

        <div class="games-played" >

            <span class="material-icons-sharp">bar_chart</span>
            <div class="middle" >
                <div class="left">
                    <h3>Games Played</h3>
                    <h1 id="game-played-text"></h1>
                </div>
<!--                <div class="progress">
                    <svg>
                        <circle cx="38" cy="38" r="36"></circle>
                    </svg>
                    <div class="number">
                        <p>62%</p>
                    </div>
                </div>-->
            </div>

<!--            <small class="text-muted">Last 24 Hours</small>-->

        </div>
        <!-- END OF SALES -->

        <div class="expenses" >

            <span class="material-icons-sharp">stacked_line_chart</span>
            <div class="middle" >
                <div class="left">
                    <h3>Average Percent</h3>
                    <h1 id="average-percent-text"></h1>
                </div>
                <!--<div class="progress">
                    <svg>
                        <circle cx="38" cy="38" r="36"></circle>
                    </svg>
                    <div class="number">
                        <p>81%</p>
                    </div>
                </div>-->
            </div>

<!--            <small class="text-muted">Last 24 Hours</small>-->

        </div>
        <!-- END OF SALES -->

    </div>
    <!--  END OF INSIGHTS  -->


    <section class="charts">

        <div class="chart">
            <canvas id="doughnut-chart" class="doughnut-chart"></canvas>
        </div>

        <div class="chart">
            <canvas id="line-chart" class="line-chart"></canvas>
        </div>

    </section>
    <!--  END OF CHARTS  -->

    <section class="recent">

        <div class="recent-orders">
            <h2>Recent Activity</h2>
            <table id="table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Mode</th>
                        <th>Misc Mode</th>
                        <th>Countries Picked</th>
                        <th>Percent Correct</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody class="table-body"> </tbody>
            </table>
<!--            <a href="#">Show All</a>-->

            <div class="button-div">
                <input id="show-all-button" type="button" value="Show All">
                <input id="show-less-button" class="hide" type="button" value="Show Less">
            </div>

        </div>

        <!-- END OF TABLE -->

        <div id="need-to-work-on" class="sales-analytics">
            <h2>Need To Work On</h2>
            <!--<div class="item online">
                <div class="icon">
                    <span class="material-icons-sharp">search</span>
                </div>
                <div class="right">
                    <div class="info">
                        <h3>ONLINE ORDERS</h3>
                        <small class="text_muted">Last 24 Hours</small>
                    </div>
                    <h5 class="success">-17%</h5>
                    <h3>3849</h3>
                </div>
            </div>

            <div class="item customers">
                <div class="icon">
                    <span class="material-icons-sharp">shopping_bag</span>
                </div>
                <div class="right">
                    <div class="info">
                        <h3>OFFLINE ORDERS</h3>
                        <small class="text_muted">Last 24 Hours</small>
                    </div>
                    <h5 class="danger">-17%</h5>
                    <h3>1100</h3>
                </div>
            </div>

            <div class="item online">
                <div class="icon">
                    <span class="material-icons-sharp">person</span>
                </div>
                <div class="right">
                    <div class="info">
                        <h3>ONLINE ORDERS</h3>
                        <small class="text_muted">Last 24 Hours</small>
                    </div>
                    <h5 class="success">+25%</h5>
                    <h3>849</h3>
                </div>
            </div>-->

        </div>
        <!--  END OF RECENT  -->

    </section>
    <!-- END OF SECTION -->


</main>
<!--  END OF MAIN   -->

</div>

<script type="text/javascript" src="./js/Stats.js" ></script>

</body>
</html>